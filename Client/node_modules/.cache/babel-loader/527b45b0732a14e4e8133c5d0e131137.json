{"ast":null,"code":"var _jsxFileName = \"E:\\\\Sites\\\\virus-v5-web\\\\Client\\\\src\\\\pages\\\\servercontrollers\\\\playercontroller\\\\features\\\\panels\\\\inventorycomonents\\\\SavedItemsPane.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { socket } from \"../../../../../../socket/socket\";\nimport EditItemModal from \"./Modals/EditItemModal\";\nimport SavedItem from \"./SavedItem\";\nimport './SavedItemsPaneStyle.scss';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SavedItemsPane(props) {\n  _s();\n\n  const [savedItems, setSavedItems] = useState([]);\n  const [editModalIsOpen, setEditModalOpen] = useState(false);\n  const [editItem, setEditItem] = useState(null);\n  const [shownItems, setShownItems] = useState([]);\n  useEffect(function loadSavedItems() {\n    updateEnchants();\n    socket.emit(\"client:saved-items\", props.player.Servername);\n  }, []);\n  useEffect(function updateSavedItems() {\n    socket.on(\"server:saved-items\", data => {\n      setSavedItems(data);\n    });\n  }, []);\n\n  function handleItemClick(type, item) {\n    var data = {\n      id: item.id,\n      Itemstack: item.Itemstack,\n      Servername: props.player.Servername,\n      Player: props.player,\n      Type: type,\n      Feature: \"item\"\n    };\n\n    if (type === \"saved-edit\") {\n      setEditItem(item);\n      setEditModalOpen(true);\n    } else socket.emit(\"client:saved-item-action\", data);\n  }\n\n  function handleEditModalClose() {\n    setEditModalOpen(false);\n  }\n\n  function handleItemEdit(item) {\n    var data = {\n      id: item.id,\n      Itemstack: item,\n      Type: \"saved-edit\"\n    };\n    socket.emit(\"client:saved-item-action\", data);\n    socket.emit(\"client:saved-items\", props.player.Servername);\n    handleEditModalClose();\n    setEditItem(null);\n  }\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  function handleSearchChange(e) {\n    setSearchTerm(e.target.value);\n  }\n\n  useEffect(() => {\n    updateEnchants();\n  }, [searchTerm]);\n\n  function updateEnchants() {\n    setShownItems([]);\n    savedItems.map(item => {\n      var itemstack = JSON.parse(item.Itemstack);\n\n      if (searchTerm === \"\" || itemstack.type.toLocaleLowerCase().startsWith(searchTerm.toLocaleLowerCase())) {\n        setShownItems(shownItems => [...shownItems, item]);\n      }\n    });\n  }\n\n  if ((savedItems === null || savedItems === void 0 ? void 0 : savedItems.length) <= 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"Geen items opgeslagen op dit moment!\"\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inventorypanel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inventorypanel-search\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"editmodal-menu-kop\",\n          children: \"Zoek naar een item:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: handleSearchChange,\n          value: searchTerm,\n          id: \"lsearch\",\n          name: \"search\",\n          placeholder: \"Zoek naar een item...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inventorypanel-items\",\n        children: shownItems.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(SavedItem, {\n            item: item,\n            handleItemClick: handleItemClick\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 32\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), editModalIsOpen && /*#__PURE__*/_jsxDEV(EditItemModal, {\n        item: editItem,\n        onCancel: handleEditModalClose,\n        onAccept: handleItemEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(SavedItemsPane, \"EAFFSjhhtIyqga7YKv3dX5QxhlA=\");\n\n_c = SavedItemsPane;\nexport default SavedItemsPane;\n\nvar _c;\n\n$RefreshReg$(_c, \"SavedItemsPane\");","map":{"version":3,"names":["useEffect","useState","socket","EditItemModal","SavedItem","SavedItemsPane","props","savedItems","setSavedItems","editModalIsOpen","setEditModalOpen","editItem","setEditItem","shownItems","setShownItems","loadSavedItems","updateEnchants","emit","player","Servername","updateSavedItems","on","data","handleItemClick","type","item","id","Itemstack","Player","Type","Feature","handleEditModalClose","handleItemEdit","searchTerm","setSearchTerm","handleSearchChange","e","target","value","map","itemstack","JSON","parse","toLocaleLowerCase","startsWith","length","index"],"sources":["E:/Sites/virus-v5-web/Client/src/pages/servercontrollers/playercontroller/features/panels/inventorycomonents/SavedItemsPane.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { socket } from \"../../../../../../socket/socket\";\r\nimport EditItemModal from \"./Modals/EditItemModal\";\r\n\r\nimport SavedItem from \"./SavedItem\";\r\n\r\nimport './SavedItemsPaneStyle.scss';\r\n\r\nfunction SavedItemsPane(props: {player: any;}){\r\n\r\n    const [savedItems, setSavedItems] = useState<any | null>([]);\r\n    const [editModalIsOpen, setEditModalOpen] = useState<boolean>(false);\r\n    const [editItem, setEditItem] = useState<any>(null);\r\n    const [shownItems, setShownItems] = useState<any | null>([]);\r\n\r\n    useEffect(function loadSavedItems(){\r\n        updateEnchants();\r\n        socket.emit(\"client:saved-items\", props.player.Servername);\r\n    }, []);\r\n    useEffect(function updateSavedItems(){\r\n        socket.on(\"server:saved-items\", data => {\r\n            setSavedItems(data);\r\n        });\r\n    }, []);\r\n\r\n    function handleItemClick(type: string, item: any){\r\n        var data = {\r\n            id: item.id,\r\n            Itemstack: item.Itemstack,\r\n            Servername: props.player.Servername,\r\n            Player: props.player,\r\n            Type: type,\r\n            Feature: \"item\"\r\n        }\r\n        if (type === \"saved-edit\"){\r\n            setEditItem(item);\r\n            setEditModalOpen(true);\r\n        }else socket.emit(\"client:saved-item-action\", data);\r\n    }\r\n    function handleEditModalClose(){\r\n        setEditModalOpen(false);\r\n    }\r\n    function handleItemEdit(item: any){\r\n        var data = {\r\n            id: item.id,\r\n            Itemstack: item,\r\n            Type: \"saved-edit\"\r\n        }\r\n        socket.emit(\"client:saved-item-action\", data);\r\n        socket.emit(\"client:saved-items\", props.player.Servername);\r\n        handleEditModalClose();\r\n        setEditItem(null);\r\n    }\r\n    const [searchTerm, setSearchTerm] = useState<any>(\"\");\r\n    function handleSearchChange(e: any) {\r\n        setSearchTerm(e.target.value)\r\n    }\r\n    useEffect(() => {\r\n        updateEnchants();\r\n    }, [searchTerm]);\r\n    function updateEnchants(){\r\n        setShownItems([]);\r\n        savedItems.map((item: any) => {\r\n            var itemstack = JSON.parse(item.Itemstack);\r\n            if (searchTerm === \"\" || itemstack.type.toLocaleLowerCase().startsWith(searchTerm.toLocaleLowerCase())){\r\n                setShownItems((shownItems: any) => [...shownItems, item]);\r\n            }\r\n        })\r\n    }\r\n    if (savedItems?.length <= 0){\r\n        return <>Geen items opgeslagen op dit moment!</>\r\n    }else{\r\n        return (\r\n            <div className='inventorypanel'>\r\n                <div className=\"inventorypanel-search\">\r\n                    <label className='editmodal-menu-kop'>Zoek naar een item:</label>\r\n                    <input type=\"text\" onChange={handleSearchChange} value={searchTerm} id=\"lsearch\" name=\"search\" placeholder=\"Zoek naar een item...\" />\r\n                </div>\r\n                <div className=\"inventorypanel-items\">\r\n                    {shownItems.map((item: any, index: number) => {\r\n                        return <SavedItem key={index} item={item} handleItemClick={handleItemClick} />\r\n                    })}\r\n                </div>\r\n                {editModalIsOpen && <EditItemModal item={editItem} onCancel={handleEditModalClose} onAccept={handleItemEdit} />}\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default SavedItemsPane; "],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,iCAAvB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AAEA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,OAAO,4BAAP;;;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA8C;EAAA;;EAE1C,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAa,EAAb,CAA5C;EACA,MAAM,CAACQ,eAAD,EAAkBC,gBAAlB,IAAsCT,QAAQ,CAAU,KAAV,CAApD;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAM,IAAN,CAAxC;EACA,MAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAa,EAAb,CAA5C;EAEAD,SAAS,CAAC,SAASe,cAAT,GAAyB;IAC/BC,cAAc;IACdd,MAAM,CAACe,IAAP,CAAY,oBAAZ,EAAkCX,KAAK,CAACY,MAAN,CAAaC,UAA/C;EACH,CAHQ,EAGN,EAHM,CAAT;EAIAnB,SAAS,CAAC,SAASoB,gBAAT,GAA2B;IACjClB,MAAM,CAACmB,EAAP,CAAU,oBAAV,EAAgCC,IAAI,IAAI;MACpCd,aAAa,CAACc,IAAD,CAAb;IACH,CAFD;EAGH,CAJQ,EAIN,EAJM,CAAT;;EAMA,SAASC,eAAT,CAAyBC,IAAzB,EAAuCC,IAAvC,EAAiD;IAC7C,IAAIH,IAAI,GAAG;MACPI,EAAE,EAAED,IAAI,CAACC,EADF;MAEPC,SAAS,EAAEF,IAAI,CAACE,SAFT;MAGPR,UAAU,EAAEb,KAAK,CAACY,MAAN,CAAaC,UAHlB;MAIPS,MAAM,EAAEtB,KAAK,CAACY,MAJP;MAKPW,IAAI,EAAEL,IALC;MAMPM,OAAO,EAAE;IANF,CAAX;;IAQA,IAAIN,IAAI,KAAK,YAAb,EAA0B;MACtBZ,WAAW,CAACa,IAAD,CAAX;MACAf,gBAAgB,CAAC,IAAD,CAAhB;IACH,CAHD,MAGMR,MAAM,CAACe,IAAP,CAAY,0BAAZ,EAAwCK,IAAxC;EACT;;EACD,SAASS,oBAAT,GAA+B;IAC3BrB,gBAAgB,CAAC,KAAD,CAAhB;EACH;;EACD,SAASsB,cAAT,CAAwBP,IAAxB,EAAkC;IAC9B,IAAIH,IAAI,GAAG;MACPI,EAAE,EAAED,IAAI,CAACC,EADF;MAEPC,SAAS,EAAEF,IAFJ;MAGPI,IAAI,EAAE;IAHC,CAAX;IAKA3B,MAAM,CAACe,IAAP,CAAY,0BAAZ,EAAwCK,IAAxC;IACApB,MAAM,CAACe,IAAP,CAAY,oBAAZ,EAAkCX,KAAK,CAACY,MAAN,CAAaC,UAA/C;IACAY,oBAAoB;IACpBnB,WAAW,CAAC,IAAD,CAAX;EACH;;EACD,MAAM,CAACqB,UAAD,EAAaC,aAAb,IAA8BjC,QAAQ,CAAM,EAAN,CAA5C;;EACA,SAASkC,kBAAT,CAA4BC,CAA5B,EAAoC;IAChCF,aAAa,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;EACH;;EACDtC,SAAS,CAAC,MAAM;IACZgB,cAAc;EACjB,CAFQ,EAEN,CAACiB,UAAD,CAFM,CAAT;;EAGA,SAASjB,cAAT,GAAyB;IACrBF,aAAa,CAAC,EAAD,CAAb;IACAP,UAAU,CAACgC,GAAX,CAAgBd,IAAD,IAAe;MAC1B,IAAIe,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWjB,IAAI,CAACE,SAAhB,CAAhB;;MACA,IAAIM,UAAU,KAAK,EAAf,IAAqBO,SAAS,CAAChB,IAAV,CAAemB,iBAAf,GAAmCC,UAAnC,CAA8CX,UAAU,CAACU,iBAAX,EAA9C,CAAzB,EAAuG;QACnG7B,aAAa,CAAED,UAAD,IAAqB,CAAC,GAAGA,UAAJ,EAAgBY,IAAhB,CAAtB,CAAb;MACH;IACJ,CALD;EAMH;;EACD,IAAI,CAAAlB,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEsC,MAAZ,KAAsB,CAA1B,EAA4B;IACxB,oBAAO;MAAA;IAAA,iBAAP;EACH,CAFD,MAEK;IACD,oBACI;MAAK,SAAS,EAAC,gBAAf;MAAA,wBACI;QAAK,SAAS,EAAC,uBAAf;QAAA,wBACI;UAAO,SAAS,EAAC,oBAAjB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC,MAAZ;UAAmB,QAAQ,EAAEV,kBAA7B;UAAiD,KAAK,EAAEF,UAAxD;UAAoE,EAAE,EAAC,SAAvE;UAAiF,IAAI,EAAC,QAAtF;UAA+F,WAAW,EAAC;QAA3G;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI;QAAK,SAAS,EAAC,sBAAf;QAAA,UACKpB,UAAU,CAAC0B,GAAX,CAAe,CAACd,IAAD,EAAYqB,KAAZ,KAA8B;UAC1C,oBAAO,QAAC,SAAD;YAAuB,IAAI,EAAErB,IAA7B;YAAmC,eAAe,EAAEF;UAApD,GAAgBuB,KAAhB;YAAA;YAAA;YAAA;UAAA,QAAP;QACH,CAFA;MADL;QAAA;QAAA;QAAA;MAAA,QALJ,EAUKrC,eAAe,iBAAI,QAAC,aAAD;QAAe,IAAI,EAAEE,QAArB;QAA+B,QAAQ,EAAEoB,oBAAzC;QAA+D,QAAQ,EAAEC;MAAzE;QAAA;QAAA;QAAA;MAAA,QAVxB;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EAcH;AACJ;;GA/EQ3B,c;;KAAAA,c;AAgFT,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}