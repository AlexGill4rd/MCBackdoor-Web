{"ast":null,"code":"import { useContext, useRef, useEffect } from 'react';\nimport { useItemEffect } from './useItemEffect.js';\nimport { ItemSettingsContext, MenuListItemContext, HoverActionTypes } from '../utils/constants.js';\n\nvar useItemState = function useItemState(itemRef, focusRef, isHovering, isDisabled) {\n  var _useContext = useContext(ItemSettingsContext),\n      submenuCloseDelay = _useContext.submenuCloseDelay;\n\n  var _useContext2 = useContext(MenuListItemContext),\n      isParentOpen = _useContext2.isParentOpen,\n      isSubmenuOpen = _useContext2.isSubmenuOpen,\n      dispatch = _useContext2.dispatch,\n      updateItems = _useContext2.updateItems;\n\n  var timeoutId = useRef(0);\n\n  var setHover = function setHover() {\n    if (!isHovering && !isDisabled) dispatch(HoverActionTypes.SET, itemRef.current);\n  };\n\n  var unsetHover = function unsetHover() {\n    !isDisabled && dispatch(HoverActionTypes.UNSET, itemRef.current);\n  };\n\n  var onBlur = function onBlur(e) {\n    if (isHovering && !e.currentTarget.contains(e.relatedTarget)) unsetHover();\n  };\n\n  var onMouseMove = function onMouseMove() {\n    if (isSubmenuOpen) {\n      if (!timeoutId.current) timeoutId.current = setTimeout(function () {\n        timeoutId.current = 0;\n        setHover();\n      }, submenuCloseDelay);\n    } else {\n      setHover();\n    }\n  };\n\n  var onMouseLeave = function onMouseLeave(_, keepHover) {\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n      timeoutId.current = 0;\n    }\n\n    !keepHover && unsetHover();\n  };\n\n  useItemEffect(isDisabled, itemRef, updateItems);\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeoutId.current);\n    };\n  }, []);\n  useEffect(function () {\n    if (isHovering && isParentOpen) {\n      focusRef.current && focusRef.current.focus();\n    }\n  }, [focusRef, isHovering, isParentOpen]);\n  return {\n    setHover: setHover,\n    onBlur: onBlur,\n    onMouseMove: onMouseMove,\n    onMouseLeave: onMouseLeave\n  };\n};\n\nexport { useItemState };","map":{"version":3,"names":["useContext","useRef","useEffect","useItemEffect","ItemSettingsContext","MenuListItemContext","HoverActionTypes","useItemState","itemRef","focusRef","isHovering","isDisabled","_useContext","submenuCloseDelay","_useContext2","isParentOpen","isSubmenuOpen","dispatch","updateItems","timeoutId","setHover","SET","current","unsetHover","UNSET","onBlur","e","currentTarget","contains","relatedTarget","onMouseMove","setTimeout","onMouseLeave","_","keepHover","clearTimeout","focus"],"sources":["E:/Sites/virusv4/Client/node_modules/@szhsin/react-menu/dist/es/hooks/useItemState.js"],"sourcesContent":["import { useContext, useRef, useEffect } from 'react';\nimport { useItemEffect } from './useItemEffect.js';\nimport { ItemSettingsContext, MenuListItemContext, HoverActionTypes } from '../utils/constants.js';\n\nvar useItemState = function useItemState(itemRef, focusRef, isHovering, isDisabled) {\n  var _useContext = useContext(ItemSettingsContext),\n      submenuCloseDelay = _useContext.submenuCloseDelay;\n\n  var _useContext2 = useContext(MenuListItemContext),\n      isParentOpen = _useContext2.isParentOpen,\n      isSubmenuOpen = _useContext2.isSubmenuOpen,\n      dispatch = _useContext2.dispatch,\n      updateItems = _useContext2.updateItems;\n\n  var timeoutId = useRef(0);\n\n  var setHover = function setHover() {\n    if (!isHovering && !isDisabled) dispatch(HoverActionTypes.SET, itemRef.current);\n  };\n\n  var unsetHover = function unsetHover() {\n    !isDisabled && dispatch(HoverActionTypes.UNSET, itemRef.current);\n  };\n\n  var onBlur = function onBlur(e) {\n    if (isHovering && !e.currentTarget.contains(e.relatedTarget)) unsetHover();\n  };\n\n  var onMouseMove = function onMouseMove() {\n    if (isSubmenuOpen) {\n      if (!timeoutId.current) timeoutId.current = setTimeout(function () {\n        timeoutId.current = 0;\n        setHover();\n      }, submenuCloseDelay);\n    } else {\n      setHover();\n    }\n  };\n\n  var onMouseLeave = function onMouseLeave(_, keepHover) {\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n      timeoutId.current = 0;\n    }\n\n    !keepHover && unsetHover();\n  };\n\n  useItemEffect(isDisabled, itemRef, updateItems);\n  useEffect(function () {\n    return function () {\n      return clearTimeout(timeoutId.current);\n    };\n  }, []);\n  useEffect(function () {\n    if (isHovering && isParentOpen) {\n      focusRef.current && focusRef.current.focus();\n    }\n  }, [focusRef, isHovering, isParentOpen]);\n  return {\n    setHover: setHover,\n    onBlur: onBlur,\n    onMouseMove: onMouseMove,\n    onMouseLeave: onMouseLeave\n  };\n};\n\nexport { useItemState };\n"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,MAArB,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,mBAAT,EAA8BC,mBAA9B,EAAmDC,gBAAnD,QAA2E,uBAA3E;;AAEA,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,OAAtB,EAA+BC,QAA/B,EAAyCC,UAAzC,EAAqDC,UAArD,EAAiE;EAClF,IAAIC,WAAW,GAAGZ,UAAU,CAACI,mBAAD,CAA5B;EAAA,IACIS,iBAAiB,GAAGD,WAAW,CAACC,iBADpC;;EAGA,IAAIC,YAAY,GAAGd,UAAU,CAACK,mBAAD,CAA7B;EAAA,IACIU,YAAY,GAAGD,YAAY,CAACC,YADhC;EAAA,IAEIC,aAAa,GAAGF,YAAY,CAACE,aAFjC;EAAA,IAGIC,QAAQ,GAAGH,YAAY,CAACG,QAH5B;EAAA,IAIIC,WAAW,GAAGJ,YAAY,CAACI,WAJ/B;;EAMA,IAAIC,SAAS,GAAGlB,MAAM,CAAC,CAAD,CAAtB;;EAEA,IAAImB,QAAQ,GAAG,SAASA,QAAT,GAAoB;IACjC,IAAI,CAACV,UAAD,IAAe,CAACC,UAApB,EAAgCM,QAAQ,CAACX,gBAAgB,CAACe,GAAlB,EAAuBb,OAAO,CAACc,OAA/B,CAAR;EACjC,CAFD;;EAIA,IAAIC,UAAU,GAAG,SAASA,UAAT,GAAsB;IACrC,CAACZ,UAAD,IAAeM,QAAQ,CAACX,gBAAgB,CAACkB,KAAlB,EAAyBhB,OAAO,CAACc,OAAjC,CAAvB;EACD,CAFD;;EAIA,IAAIG,MAAM,GAAG,SAASA,MAAT,CAAgBC,CAAhB,EAAmB;IAC9B,IAAIhB,UAAU,IAAI,CAACgB,CAAC,CAACC,aAAF,CAAgBC,QAAhB,CAAyBF,CAAC,CAACG,aAA3B,CAAnB,EAA8DN,UAAU;EACzE,CAFD;;EAIA,IAAIO,WAAW,GAAG,SAASA,WAAT,GAAuB;IACvC,IAAId,aAAJ,EAAmB;MACjB,IAAI,CAACG,SAAS,CAACG,OAAf,EAAwBH,SAAS,CAACG,OAAV,GAAoBS,UAAU,CAAC,YAAY;QACjEZ,SAAS,CAACG,OAAV,GAAoB,CAApB;QACAF,QAAQ;MACT,CAHqD,EAGnDP,iBAHmD,CAA9B;IAIzB,CALD,MAKO;MACLO,QAAQ;IACT;EACF,CATD;;EAWA,IAAIY,YAAY,GAAG,SAASA,YAAT,CAAsBC,CAAtB,EAAyBC,SAAzB,EAAoC;IACrD,IAAIf,SAAS,CAACG,OAAd,EAAuB;MACrBa,YAAY,CAAChB,SAAS,CAACG,OAAX,CAAZ;MACAH,SAAS,CAACG,OAAV,GAAoB,CAApB;IACD;;IAED,CAACY,SAAD,IAAcX,UAAU,EAAxB;EACD,CAPD;;EASApB,aAAa,CAACQ,UAAD,EAAaH,OAAb,EAAsBU,WAAtB,CAAb;EACAhB,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjB,OAAOiC,YAAY,CAAChB,SAAS,CAACG,OAAX,CAAnB;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAKApB,SAAS,CAAC,YAAY;IACpB,IAAIQ,UAAU,IAAIK,YAAlB,EAAgC;MAC9BN,QAAQ,CAACa,OAAT,IAAoBb,QAAQ,CAACa,OAAT,CAAiBc,KAAjB,EAApB;IACD;EACF,CAJQ,EAIN,CAAC3B,QAAD,EAAWC,UAAX,EAAuBK,YAAvB,CAJM,CAAT;EAKA,OAAO;IACLK,QAAQ,EAAEA,QADL;IAELK,MAAM,EAAEA,MAFH;IAGLK,WAAW,EAAEA,WAHR;IAILE,YAAY,EAAEA;EAJT,CAAP;AAMD,CA7DD;;AA+DA,SAASzB,YAAT"},"metadata":{},"sourceType":"module"}