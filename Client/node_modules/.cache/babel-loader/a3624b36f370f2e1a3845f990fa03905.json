{"ast":null,"code":"'use strict';\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00';\nconst styles = 'italic|oblique';\nconst variants = 'small-caps';\nconst stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded';\nconst units = 'px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q';\nconst string = '\\'([^\\']+)\\'|\"([^\"]+)\"|[\\\\w\\\\s-]+'; // [ [ <‘font-style’> || <font-variant-css21> || <‘font-weight’> || <‘font-stretch’> ]?\n//    <‘font-size’> [ / <‘line-height’> ]? <‘font-family’> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\n\nconst weightRe = new RegExp(`(${weights}) +`, 'i');\nconst styleRe = new RegExp(`(${styles}) +`, 'i');\nconst variantRe = new RegExp(`(${variants}) +`, 'i');\nconst stretchRe = new RegExp(`(${stretches}) +`, 'i');\nconst sizeFamilyRe = new RegExp(`([\\\\d\\\\.]+)(${units}) *((?:${string})( *, *(?:${string}))*)`);\n/**\n * Cache font parsing.\n */\n\nconst cache = {};\nconst defaultHeight = 16; // pt, common browser default\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nmodule.exports = str => {\n  // Cached\n  if (cache[str]) return cache[str]; // Try for required properties first.\n\n  const sizeFamily = sizeFamilyRe.exec(str);\n  if (!sizeFamily) return; // invalid\n  // Default values and required properties\n\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/[\"']/g, '').replace(/ *, */g, ',')\n  }; // Optional, unordered properties.\n\n  let weight, style, variant, stretch; // Stop search at `sizeFamily.index`\n\n  const substr = str.substring(0, sizeFamily.index);\n  if (weight = weightRe.exec(substr)) font.weight = weight[1];\n  if (style = styleRe.exec(substr)) font.style = style[1];\n  if (variant = variantRe.exec(substr)) font.variant = variant[1];\n  if (stretch = stretchRe.exec(substr)) font.stretch = stretch[1]; // Convert to device units. (`font.unit` is the original unit)\n  // TODO: ch, ex\n\n  switch (font.unit) {\n    case 'pt':\n      font.size /= 0.75;\n      break;\n\n    case 'pc':\n      font.size *= 16;\n      break;\n\n    case 'in':\n      font.size *= 96;\n      break;\n\n    case 'cm':\n      font.size *= 96.0 / 2.54;\n      break;\n\n    case 'mm':\n      font.size *= 96.0 / 25.4;\n      break;\n\n    case '%':\n      // TODO disabled because existing unit tests assume 100\n      // font.size *= defaultHeight / 100 / 0.75\n      break;\n\n    case 'em':\n    case 'rem':\n      font.size *= defaultHeight / 0.75;\n      break;\n\n    case 'q':\n      font.size *= 96 / 25.4 / 4;\n      break;\n  }\n\n  return cache[str] = font;\n};","map":{"version":3,"names":["weights","styles","variants","stretches","units","string","weightRe","RegExp","styleRe","variantRe","stretchRe","sizeFamilyRe","cache","defaultHeight","module","exports","str","sizeFamily","exec","font","weight","style","stretch","variant","size","parseFloat","unit","family","replace","substr","substring","index"],"sources":["E:/Sites/virusv4/Client/node_modules/canvas/lib/parse-font.js"],"sourcesContent":["'use strict'\n\n/**\n * Font RegExp helpers.\n */\n\nconst weights = 'bold|bolder|lighter|[1-9]00'\nconst styles = 'italic|oblique'\nconst variants = 'small-caps'\nconst stretches = 'ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded'\nconst units = 'px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q'\nconst string = '\\'([^\\']+)\\'|\"([^\"]+)\"|[\\\\w\\\\s-]+'\n\n// [ [ <‘font-style’> || <font-variant-css21> || <‘font-weight’> || <‘font-stretch’> ]?\n//    <‘font-size’> [ / <‘line-height’> ]? <‘font-family’> ]\n// https://drafts.csswg.org/css-fonts-3/#font-prop\nconst weightRe = new RegExp(`(${weights}) +`, 'i')\nconst styleRe = new RegExp(`(${styles}) +`, 'i')\nconst variantRe = new RegExp(`(${variants}) +`, 'i')\nconst stretchRe = new RegExp(`(${stretches}) +`, 'i')\nconst sizeFamilyRe = new RegExp(\n  `([\\\\d\\\\.]+)(${units}) *((?:${string})( *, *(?:${string}))*)`)\n\n/**\n * Cache font parsing.\n */\n\nconst cache = {}\n\nconst defaultHeight = 16 // pt, common browser default\n\n/**\n * Parse font `str`.\n *\n * @param {String} str\n * @return {Object} Parsed font. `size` is in device units. `unit` is the unit\n *   appearing in the input string.\n * @api private\n */\n\nmodule.exports = str => {\n  // Cached\n  if (cache[str]) return cache[str]\n\n  // Try for required properties first.\n  const sizeFamily = sizeFamilyRe.exec(str)\n  if (!sizeFamily) return // invalid\n\n  // Default values and required properties\n  const font = {\n    weight: 'normal',\n    style: 'normal',\n    stretch: 'normal',\n    variant: 'normal',\n    size: parseFloat(sizeFamily[1]),\n    unit: sizeFamily[2],\n    family: sizeFamily[3].replace(/[\"']/g, '').replace(/ *, */g, ',')\n  }\n\n  // Optional, unordered properties.\n  let weight, style, variant, stretch\n  // Stop search at `sizeFamily.index`\n  const substr = str.substring(0, sizeFamily.index)\n  if ((weight = weightRe.exec(substr))) font.weight = weight[1]\n  if ((style = styleRe.exec(substr))) font.style = style[1]\n  if ((variant = variantRe.exec(substr))) font.variant = variant[1]\n  if ((stretch = stretchRe.exec(substr))) font.stretch = stretch[1]\n\n  // Convert to device units. (`font.unit` is the original unit)\n  // TODO: ch, ex\n  switch (font.unit) {\n    case 'pt':\n      font.size /= 0.75\n      break\n    case 'pc':\n      font.size *= 16\n      break\n    case 'in':\n      font.size *= 96\n      break\n    case 'cm':\n      font.size *= 96.0 / 2.54\n      break\n    case 'mm':\n      font.size *= 96.0 / 25.4\n      break\n    case '%':\n      // TODO disabled because existing unit tests assume 100\n      // font.size *= defaultHeight / 100 / 0.75\n      break\n    case 'em':\n    case 'rem':\n      font.size *= defaultHeight / 0.75\n      break\n    case 'q':\n      font.size *= 96 / 25.4 / 4\n      break\n  }\n\n  return (cache[str] = font)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}