{"ast":null,"code":"var util = require('utils-extend');\n/**\n * @description\n * @example\n * `**\\/*` match all files\n * `*.js`  only match current dir files\n * '**\\/*.js' match all js files\n * 'path/*.js' match js files in path\n * '!*.js' exclude js files \n */\n\n\nfunction fileMatch(filter, ignore) {\n  if (filter === null) {\n    return function () {\n      return true;\n    };\n  } else if (filter === '' || util.isArray(filter) && !filter.length) {\n    return function () {\n      return false;\n    };\n  }\n\n  if (util.isString(filter)) {\n    filter = [filter];\n  }\n\n  var match = [];\n  var negate = [];\n  var isIgnore = ignore ? 'i' : '';\n  filter.forEach(function (item) {\n    var isNegate = item.indexOf('!') === 0;\n    item = item.replace(/^!/, '').replace(/\\*(?![\\/*])/, '[^/]*?').replace('**\\/', '([^/]+\\/)*').replace(/\\{([^\\}]+)\\}/g, function ($1, $2) {\n      var collection = $2.split(',');\n      var length = collection.length;\n      var result = '(?:';\n      collection.forEach(function (item, index) {\n        result += '(' + item.trim() + ')';\n\n        if (index + 1 !== length) {\n          result += '|';\n        }\n      });\n      result += ')';\n      return result;\n    }).replace(/([\\/\\.])/g, '\\\\$1');\n    item = '(^' + item + '$)';\n\n    if (isNegate) {\n      negate.push(item);\n    } else {\n      match.push(item);\n    }\n  });\n  match = match.length ? new RegExp(match.join('|'), isIgnore) : null;\n  negate = negate.length ? new RegExp(negate.join('|'), isIgnore) : null;\n  return function (filepath) {\n    // Normalize \\\\ paths to / paths.\n    filepath = util.path.unixifyPath(filepath);\n\n    if (negate && negate.test(filepath)) {\n      return false;\n    }\n\n    if (match && match.test(filepath)) {\n      return true;\n    }\n\n    return false;\n  };\n}\n\nmodule.exports = fileMatch;","map":{"version":3,"names":["util","require","fileMatch","filter","ignore","isArray","length","isString","match","negate","isIgnore","forEach","item","isNegate","indexOf","replace","$1","$2","collection","split","result","index","trim","push","RegExp","join","filepath","path","unixifyPath","test","module","exports"],"sources":["E:/Sites/virusv4/Client/node_modules/file-match/file-match.js"],"sourcesContent":["var util = require('utils-extend');\n/**\n * @description\n * @example\n * `**\\/*` match all files\n * `*.js`  only match current dir files\n * '**\\/*.js' match all js files\n * 'path/*.js' match js files in path\n * '!*.js' exclude js files \n */\nfunction fileMatch(filter, ignore) {\n  if (filter === null) {\n    return function() {\n      return true;\n    };\n  } else if (filter === '' || (util.isArray(filter) && !filter.length)) {\n    return function() {\n      return false;\n    };\n  }\n\n  if (util.isString(filter)) {\n    filter = [filter];\n  }\n\n  var match = [];\n  var negate = [];\n  var isIgnore = ignore ? 'i' : '';\n\n  filter.forEach(function(item) {\n    var isNegate = item.indexOf('!') === 0;\n    item = item\n      .replace(/^!/, '')\n      .replace(/\\*(?![\\/*])/, '[^/]*?')\n      .replace('**\\/', '([^/]+\\/)*')\n      .replace(/\\{([^\\}]+)\\}/g, function($1, $2) {\n        var collection = $2.split(',');\n        var length = collection.length;\n        var result = '(?:';\n\n        collection.forEach(function(item, index) {\n          result += '(' + item.trim() + ')';\n\n          if (index + 1 !== length) {\n            result += '|';\n          }\n        });\n\n        result += ')';\n\n        return result;\n      })\n      .replace(/([\\/\\.])/g, '\\\\$1');\n\n    item = '(^' + item + '$)';\n\n    if (isNegate) {\n      negate.push(item);\n    } else {\n      match.push(item);\n    }\n  });\n\n  match = match.length ?  new RegExp(match.join('|'), isIgnore) : null;\n  negate = negate.length ? new RegExp(negate.join('|'), isIgnore) : null;\n\n  return function(filepath) {\n    // Normalize \\\\ paths to / paths.\n    filepath = util.path.unixifyPath(filepath);\n\n    if (negate && negate.test(filepath)) {\n      return false;\n    }\n\n    if (match && match.test(filepath)) {\n      return true;\n    }\n\n    return false;\n  };\n}\n\nmodule.exports = fileMatch;"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,cAAD,CAAlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,SAAT,CAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;EACjC,IAAID,MAAM,KAAK,IAAf,EAAqB;IACnB,OAAO,YAAW;MAChB,OAAO,IAAP;IACD,CAFD;EAGD,CAJD,MAIO,IAAIA,MAAM,KAAK,EAAX,IAAkBH,IAAI,CAACK,OAAL,CAAaF,MAAb,KAAwB,CAACA,MAAM,CAACG,MAAtD,EAA+D;IACpE,OAAO,YAAW;MAChB,OAAO,KAAP;IACD,CAFD;EAGD;;EAED,IAAIN,IAAI,CAACO,QAAL,CAAcJ,MAAd,CAAJ,EAA2B;IACzBA,MAAM,GAAG,CAACA,MAAD,CAAT;EACD;;EAED,IAAIK,KAAK,GAAG,EAAZ;EACA,IAAIC,MAAM,GAAG,EAAb;EACA,IAAIC,QAAQ,GAAGN,MAAM,GAAG,GAAH,GAAS,EAA9B;EAEAD,MAAM,CAACQ,OAAP,CAAe,UAASC,IAAT,EAAe;IAC5B,IAAIC,QAAQ,GAAGD,IAAI,CAACE,OAAL,CAAa,GAAb,MAAsB,CAArC;IACAF,IAAI,GAAGA,IAAI,CACRG,OADI,CACI,IADJ,EACU,EADV,EAEJA,OAFI,CAEI,aAFJ,EAEmB,QAFnB,EAGJA,OAHI,CAGI,MAHJ,EAGY,YAHZ,EAIJA,OAJI,CAII,eAJJ,EAIqB,UAASC,EAAT,EAAaC,EAAb,EAAiB;MACzC,IAAIC,UAAU,GAAGD,EAAE,CAACE,KAAH,CAAS,GAAT,CAAjB;MACA,IAAIb,MAAM,GAAGY,UAAU,CAACZ,MAAxB;MACA,IAAIc,MAAM,GAAG,KAAb;MAEAF,UAAU,CAACP,OAAX,CAAmB,UAASC,IAAT,EAAeS,KAAf,EAAsB;QACvCD,MAAM,IAAI,MAAMR,IAAI,CAACU,IAAL,EAAN,GAAoB,GAA9B;;QAEA,IAAID,KAAK,GAAG,CAAR,KAAcf,MAAlB,EAA0B;UACxBc,MAAM,IAAI,GAAV;QACD;MACF,CAND;MAQAA,MAAM,IAAI,GAAV;MAEA,OAAOA,MAAP;IACD,CApBI,EAqBJL,OArBI,CAqBI,WArBJ,EAqBiB,MArBjB,CAAP;IAuBAH,IAAI,GAAG,OAAOA,IAAP,GAAc,IAArB;;IAEA,IAAIC,QAAJ,EAAc;MACZJ,MAAM,CAACc,IAAP,CAAYX,IAAZ;IACD,CAFD,MAEO;MACLJ,KAAK,CAACe,IAAN,CAAWX,IAAX;IACD;EACF,CAhCD;EAkCAJ,KAAK,GAAGA,KAAK,CAACF,MAAN,GAAgB,IAAIkB,MAAJ,CAAWhB,KAAK,CAACiB,IAAN,CAAW,GAAX,CAAX,EAA4Bf,QAA5B,CAAhB,GAAwD,IAAhE;EACAD,MAAM,GAAGA,MAAM,CAACH,MAAP,GAAgB,IAAIkB,MAAJ,CAAWf,MAAM,CAACgB,IAAP,CAAY,GAAZ,CAAX,EAA6Bf,QAA7B,CAAhB,GAAyD,IAAlE;EAEA,OAAO,UAASgB,QAAT,EAAmB;IACxB;IACAA,QAAQ,GAAG1B,IAAI,CAAC2B,IAAL,CAAUC,WAAV,CAAsBF,QAAtB,CAAX;;IAEA,IAAIjB,MAAM,IAAIA,MAAM,CAACoB,IAAP,CAAYH,QAAZ,CAAd,EAAqC;MACnC,OAAO,KAAP;IACD;;IAED,IAAIlB,KAAK,IAAIA,KAAK,CAACqB,IAAN,CAAWH,QAAX,CAAb,EAAmC;MACjC,OAAO,IAAP;IACD;;IAED,OAAO,KAAP;EACD,CAbD;AAcD;;AAEDI,MAAM,CAACC,OAAP,GAAiB7B,SAAjB"},"metadata":{},"sourceType":"script"}