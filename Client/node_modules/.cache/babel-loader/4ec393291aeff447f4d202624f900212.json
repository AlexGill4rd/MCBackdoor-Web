{"ast":null,"code":"'use strict';\n\nvar utils = {}; // whether is browser\n\nutils.isBrowser = function () {\n  var isElectron = utils.isElectron();\n  var isNW = utils.isNW();\n  return !isElectron && !isNW && !(typeof window === 'undefined' || typeof navigator === 'undefined');\n}; // whether is Node\n\n\nutils.isNode = function () {\n  return !(typeof process === 'undefined' || !process.platform || !process.versions);\n}; // whether is NW.js (Node-webkit)\n\n\nutils.isNW = function () {\n  var isNode = utils.isNode();\n  return isNode && !(typeof global === 'undefined' || !process.__node_webkit || !process.versions['node-webkit']);\n}; // whether is Electron\n\n\nutils.isElectron = function () {\n  var isNode = utils.isNode();\n  return isNode && !(typeof global === 'undefined' || !process.versions.electron);\n}; // detect object type\n\n\nutils.type = function (obj) {\n  return Object.prototype.toString.call(obj).split(' ')[1].replace(']', '');\n}; // return a number between 'min' and 'max'\n\n\nutils.rangeNumber = function (num, min, max) {\n  return num > max ? max : num < min ? min : num;\n};\n\nutils.each = function (stack, handler) {\n  var len = stack.length; // Array\n\n  if (len) {\n    for (var i = 0; i < len; i++) {\n      if (handler.call(stack[i], stack[i], i) === false) {\n        break;\n      }\n    }\n  } // Object\n  else if (typeof len === 'undefined') {\n    for (var name in stack) {\n      if (handler.call(stack[name], stack[name], name) === false) {\n        break;\n      }\n    }\n  }\n}; // shallow copy\n// utils.extend(target, obj1, obj2, ...)\n\n\nutils.extend = function (target) {\n  utils.each(arguments, function (source, index) {\n    if (index > 0) {\n      utils.each(source, function (value, key) {\n        if (typeof value !== 'undefined') {\n          target[key] = value;\n        }\n      });\n    }\n  });\n}; // setter\n\n\nutils.setter = function (target, name, value) {\n  var nameType = utils.type(name); // setter(name, value)\n\n  if (nameType === 'String') {\n    if (typeof target[name] === 'undefined') {\n      throw new Error('Invalid configuration name.');\n    }\n\n    if (typeof value === 'undefined') {\n      throw new Error('Lack of a value corresponding to the name');\n    }\n\n    if (utils.type(value) === 'Object' && utils.type(target[name]) === 'Object') {\n      utils.extend(target[name], value);\n    } else {\n      target[name] = value;\n    }\n  } // setter({...})\n  else if (nameType === 'Object') {\n    value = name;\n    utils.extend(target, value);\n  } // otherwise throws\n  else {\n    throw new Error('Invalid arguments');\n  }\n}; // get image format\n\n\nutils.getImageFormat = function (str) {\n  var format = str.substr(str.lastIndexOf('.') + 1, str.length);\n  format = format === 'jpg' ? 'jpeg' : format;\n  return 'image/' + format;\n}; // uppercase first letter\n\n\nutils.upperCaseFirstLetter = function (str) {\n  return str.replace(str.charAt(0), function (a) {\n    return a.toUpperCase();\n  });\n};\n\nmodule.exports = utils;","map":{"version":3,"names":["utils","isBrowser","isElectron","isNW","window","navigator","isNode","process","platform","versions","global","__node_webkit","electron","type","obj","Object","prototype","toString","call","split","replace","rangeNumber","num","min","max","each","stack","handler","len","length","i","name","extend","target","arguments","source","index","value","key","setter","nameType","Error","getImageFormat","str","format","substr","lastIndexOf","upperCaseFirstLetter","charAt","a","toUpperCase","module","exports"],"sources":["E:/Sites/virusv4/Client/node_modules/image-clipper/lib/utils.js"],"sourcesContent":["'use strict'\n\nvar utils = {}\n\n// whether is browser\nutils.isBrowser = function() {\n  var isElectron = utils.isElectron()\n  var isNW = utils.isNW()\n  return !isElectron && !isNW && !(typeof window === 'undefined' || typeof navigator === 'undefined')\n}\n\n// whether is Node\nutils.isNode = function() {\n  return !(typeof process === 'undefined' || !process.platform || !process.versions)\n}\n\n// whether is NW.js (Node-webkit)\nutils.isNW = function() {\n  var isNode = utils.isNode()\n  return isNode && !(typeof global === 'undefined' || !process.__node_webkit || !process.versions['node-webkit'])\n}\n\n// whether is Electron\nutils.isElectron = function() {\n  var isNode = utils.isNode()\n  return isNode && !(typeof global === 'undefined' || !process.versions.electron)\n}\n\n// detect object type\nutils.type = function(obj) {\n  return Object.prototype.toString.call(obj).split(' ')[1].replace(']', '')\n}\n\n// return a number between 'min' and 'max'\nutils.rangeNumber = function(num, min, max) {\n  return num > max ? max : num < min ? min : num\n}\n\nutils.each = function(stack, handler) {\n  var len = stack.length\n\n  // Array\n  if (len) {\n    for (var i = 0; i < len; i++) {\n      if (handler.call(stack[i], stack[i], i) === false) {\n        break\n      }\n    }\n  }\n  // Object\n  else if (typeof len === 'undefined') {\n    for (var name in stack) {\n      if (handler.call(stack[name], stack[name], name) === false) {\n        break\n      }\n    }\n  }\n}\n\n// shallow copy\n// utils.extend(target, obj1, obj2, ...)\nutils.extend = function(target) {\n  utils.each(arguments, function(source, index) {\n    if (index > 0) {\n      utils.each(source, function(value, key) {\n        if (typeof value !== 'undefined') {\n          target[key] = value\n        }\n      })\n    }\n  })\n}\n\n// setter\nutils.setter = function(target, name, value) {\n  var nameType = utils.type(name)\n\n  // setter(name, value)\n  if (nameType === 'String') {\n    if (typeof target[name] === 'undefined') {\n      throw new Error('Invalid configuration name.')\n    }\n\n    if (typeof value === 'undefined') {\n      throw new Error('Lack of a value corresponding to the name')\n    }\n\n    if (utils.type(value) === 'Object' && utils.type(target[name]) === 'Object') {\n      utils.extend(target[name], value)\n    } else {\n      target[name] = value\n    }\n  }\n  // setter({...})\n  else if (nameType === 'Object') {\n    value = name\n    utils.extend(target, value)\n  }\n  // otherwise throws\n  else {\n    throw new Error('Invalid arguments')\n  }\n}\n\n// get image format\nutils.getImageFormat = function(str) {\n  var format = str.substr(str.lastIndexOf('.') + 1, str.length)\n  format = format === 'jpg' ? 'jpeg' : format\n  return 'image/' + format\n}\n\n// uppercase first letter\nutils.upperCaseFirstLetter = function(str) {\n  return str.replace(str.charAt(0), function(a) {\n    return a.toUpperCase()\n  })\n}\n\nmodule.exports = utils\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}